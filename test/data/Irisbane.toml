[[ test ]]
game_system = "Irisbane"
input = "3b6"
output = "(3B6) ＞ 3,5,6"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
]

[[ test ]]
game_system = "Irisbane"
input = "C(5/2)"
output = "c(5/2) ＞ 3"
rands = []

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,5"
output = "(ATTACK2,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 2 ＞ ダメージ 6"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATK10,2,4"
output = "(ATTACK10,2,4) ＞ 3,4 ＞ 成功ダイス数 2 ＞ × 攻撃力 10 ＞ ダメージ 20"
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT8,3,2"
output = "(ATTACK8,3,2) ＞ 3,4,6 ＞ 成功ダイス数 0"
rands = [
  { sides = 6, value = 4 },
  { sides = 6, value = 3 },
  { sides = 6, value = 6 },
]
failure = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK0,4,5"
output = "(ATTACK0,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 0 ＞ ダメージ 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,0,5"
output = "(ATTACK2,0,5) ＞ 判定数が 0 です"
rands = []

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,0"
output = "(ATTACK2,4,1) ＞ 1,3,4,6 ＞ 成功ダイス数 1 ＞ × 攻撃力 2 ＞ ダメージ 2"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,7"
output = "(ATTACK2,4,6) ＞ 1,3,4,6 ＞ 成功ダイス数 4 ＞ × 攻撃力 2 ＞ ダメージ 8"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2+7,4,5"
output = "(ATTACK9,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2-1,4,5"
output = "(ATTACK1,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 1 ＞ ダメージ 3"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2-2,4,5"
output = "(ATTACK0,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 0 ＞ ダメージ 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2-3,4,5"
output = "(ATTACK0,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 0 ＞ ダメージ 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT(2+3)*2,4,5"
output = "(ATTACK10,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 10 ＞ ダメージ 30"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT(2+3/2,4,5"
output = ""
rands = []

[[ test ]]
game_system = "Irisbane"
input = "AT(2+3)/2,4,5"
output = "(ATTACK3,4,5) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 3 ＞ ダメージ 9"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT(2+3/2,4,5"
output = ""
rands = []

[[ test ]]
game_system = "Irisbane"
input = "AT2,4-1,5"
output = "(ATTACK2,3,5) ＞ 3,4,6 ＞ 成功ダイス数 2 ＞ × 攻撃力 2 ＞ ダメージ 4"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT6,5/2,5"
output = "(ATTACK6,3,5) ＞ 1,3,6 ＞ 成功ダイス数 2 ＞ × 攻撃力 6 ＞ ダメージ 12"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4*2,5"
output = "(ATTACK2,8,5) ＞ 1,1,2,3,4,5,5,6 ＞ 成功ダイス数 7 ＞ × 攻撃力 2 ＞ ダメージ 14"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
  { sides = 6, value = 5 },
  { sides = 6, value = 5 },
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,(2*3)+2,5"
output = "(ATTACK2,8,5) ＞ 1,1,2,3,4,5,5,6 ＞ 成功ダイス数 7 ＞ × 攻撃力 2 ＞ ダメージ 14"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
  { sides = 6, value = 5 },
  { sides = 6, value = 5 },
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,(2*3+2,5"
output = ""
rands = []

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4+1"
output = "(ATTACK2,4,5) ＞ 3,4,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 2 ＞ ダメージ 6"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4+3"
output = "(ATTACK2,4,6) ＞ 3,4,5,6 ＞ 成功ダイス数 4 ＞ × 攻撃力 2 ＞ ダメージ 8"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4-1"
output = "(ATTACK2,4,3) ＞ 3,4,5,6 ＞ 成功ダイス数 1 ＞ × 攻撃力 2 ＞ ダメージ 2"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4-2"
output = "(ATTACK2,4,2) ＞ 3,4,5,6 ＞ 成功ダイス数 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
failure = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4-5"
output = "(ATTACK2,4,1) ＞ 3,4,5,6 ＞ 成功ダイス数 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
failure = true

[[ test ]]
game_system = "Irisbane"
input = "AT2,4,4-"
output = ""
rands = []

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1"
output = "(ATTACK9,6,4) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,5[+10]"
output = "(ATTACK2,4,5[+10]) ＞ 1,3,4,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 2 ＞ ダメージ 6+10 ＞ 16"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 1 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,2[+10]"
output = "(ATTACK2,4,2[+10]) ＞ 3,4,5,6 ＞ 成功ダイス数 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 5 },
  { sides = 6, value = 3 },
  { sides = 6, value = 4 },
]
failure = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2,4,2[+10-]"
output = ""
rands = []

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1[+5]"
output = "(ATTACK9,6,4[+5]) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27+5 ＞ 32"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1[+5+7*2-1]"
output = "(ATTACK9,6,4[+18]) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27+18 ＞ 45"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1[-8]"
output = "(ATTACK9,6,4[-8]) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27-8 ＞ 19"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1[-27]"
output = "(ATTACK9,6,4[-27]) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27-27 ＞ 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "ATTACK2+7,3*2,5-1[-28]"
output = "(ATTACK9,6,4[-28]) ＞ 1,3,4,5,5,6 ＞ 成功ダイス数 3 ＞ × 攻撃力 9 ＞ ダメージ 27-28 ＞ 0"
rands = [
  { sides = 6, value = 6 },
  { sides = 6, value = 3 },
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
  { sides = 6, value = 1 },
  { sides = 6, value = 5 },
]
success = true

[[ test ]]
game_system = "Irisbane"
input = "CAge"
output = "年齢(1) ＞ 【幼年】誕生から一桁代。"
rands = [
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CGender"
output = "性別(1) ＞ 【男性 male】その種の雄性配偶体。それ以上でも、以下でも有り得ない。"
rands = [
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CGender"
output = "性別(4) ＞ 【女性 female】その種の雌性配偶体。それ以上でも、以下でも有り得ない。"
rands = [
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "Irisbane"
input = "CFailure"
output = "欠落(11) ＞ 【想い人】あるいは、想われ人と呼ぶべきか。どう呼ぶにしろ、もう居ない――もう、居ない。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CFailure"
output = "欠落(12) ＞ 【心】板に棒に器に杯に……例えなら色々あるけれど、壊れたらお終いなことに違いは無い。"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "Irisbane"
input = "CFailure"
output = "欠落(31) ＞ 【想い人】あるいは、想われ人と呼ぶべきか。どう呼ぶにしろ、もう居ない――もう、居ない。"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CFailure"
output = "欠落(56) ＞ 【資格】名誉、面子、地位、階級――無くても良いと言えるのは、喪ったことが無い者だけだ。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 6 },
]

[[ test ]]
game_system = "Irisbane"
input = "CDesire"
output = "願望(11) ＞ 【栄光】己が目指した、まともであれば届かぬ高みへ、もしもこの手が届くとしたら……"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CDesire"
output = "願望(14) ＞ 【逃避】大袈裟なことなんて誰も望んでいない。「何処かへ行きたい」、只それだけなのに……"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "Irisbane"
input = "CDesire"
output = "願望(32) ＞ 【愛情】「愛こそはすべて」と皆が知っている。だからこそ、奪い取ってでも手に入れなければ。"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "Irisbane"
input = "CDesire"
output = "願望(54) ＞ 【笑顔】突き詰めるのなら、そう言うことだ。全員同じ想いなら、望んで悪い筈が無い。"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "Irisbane"
input = "CQuestion"
output = "問い掛け(11) ＞ 【誰】を愛していましたか？"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "Irisbane"
input = "CQuestion"
output = "問い掛け(14) ＞ どんな【格好】をしていましたか？"
rands = [
  { sides = 6, value = 1 },
  { sides = 6, value = 4 },
]

[[ test ]]
game_system = "Irisbane"
input = "CQuestion"
output = "問い掛け(32) ＞ どんな【空】が広がっていましたか？"
rands = [
  { sides = 6, value = 3 },
  { sides = 6, value = 2 },
]

[[ test ]]
game_system = "Irisbane"
input = "CQuestion"
output = "問い掛け(54) ＞ 【何処】へ向かっていましたか？"
rands = [
  { sides = 6, value = 5 },
  { sides = 6, value = 4 },
]
